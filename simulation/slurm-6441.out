/home/mwsrgf/act-venv/lib64/python3.9/site-packages/torch/__init__.py:614: UserWarning: torch.set_default_tensor_type() is deprecated as of PyTorch 2.1, please use torch.set_default_dtype() and torch.set_default_device() as alternatives. (Triggered internally at ../torch/csrc/tensor/python_tensor.cpp:451.)
  _C._set_default_tensor_type(t)
Warning: no DISPLAY environment variable.
--No graphics will be displayed.
/home/mwsrgf/proj/ACT/simulation
Mod files: "temp_modfiles/temp_modfiles/capool.mod" "temp_modfiles/temp_modfiles/cas.mod" "temp_modfiles/temp_modfiles/cat.mod" "temp_modfiles/temp_modfiles/inhsyn.mod" "temp_modfiles/temp_modfiles/ka.mod" "temp_modfiles/temp_modfiles/kca.mod" "temp_modfiles/temp_modfiles/kdr.mod" "temp_modfiles/temp_modfiles/leak.mod" "temp_modfiles/temp_modfiles/na.mod"

Creating 'x86_64' directory for .o files.

 -> [32mCompiling[0m mod_func.cpp
 -> [32mNMODL[0m ../temp_modfiles/capool.mod
 -> [32mNMODL[0m ../temp_modfiles/cas.mod
 -> [32mNMODL[0m ../temp_modfiles/cat.mod
Translating capool.mod into /home/mwsrgf/proj/ACT/simulation/x86_64/capool.c
 -> [32mNMODL[0m ../temp_modfiles/inhsyn.mod
Translating cas.mod into /home/mwsrgf/proj/ACT/simulation/x86_64/cas.c
Translating cat.mod into /home/mwsrgf/proj/ACT/simulation/x86_64/cat.c
Thread Safe
Thread Safe
Thread Safe
 -> [32mNMODL[0m ../temp_modfiles/ka.mod
Translating inhsyn.mod into /home/mwsrgf/proj/ACT/simulation/x86_64/inhsyn.c
 -> [32mNMODL[0m ../temp_modfiles/kca.mod
 -> [32mNMODL[0m ../temp_modfiles/kdr.mod
Thread Safe
Translating ka.mod into /home/mwsrgf/proj/ACT/simulation/x86_64/ka.c
 -> [32mNMODL[0m ../temp_modfiles/leak.mod
Thread Safe
Translating kca.mod into /home/mwsrgf/proj/ACT/simulation/x86_64/kca.c
Translating kdr.mod into /home/mwsrgf/proj/ACT/simulation/x86_64/kdr.c
Thread Safe
Thread Safe
 -> [32mNMODL[0m ../temp_modfiles/na.mod
Translating leak.mod into /home/mwsrgf/proj/ACT/simulation/x86_64/leak.c
Thread Safe
 -> [32mCompiling[0m capool.c
 -> [32mCompiling[0m cas.c
 -> [32mCompiling[0m cat.c
Translating na.mod into /home/mwsrgf/proj/ACT/simulation/x86_64/na.c
Thread Safe
 -> [32mCompiling[0m inhsyn.c
 -> [32mCompiling[0m ka.c
 -> [32mCompiling[0m kca.c
 -> [32mCompiling[0m kdr.c
 -> [32mCompiling[0m leak.c
 -> [32mCompiling[0m na.c
 => [32mLINKING[0m shared library ./libnrnmech.so
 => [32mLINKING[0m executable ./special LDFLAGS are:    -pthread
Successfully created x86_64/special
generating traces...

(2024-02-18 22:45:48.151818)-[START]
loading hoc file ../data/BursterS3/orig/template.hoc
Setting eleak = -49
Setting Burster[0].soma[0].gbar_leak = 0.00003538
Setting Burster[0].soma[0].cm = 1.52762500
Generating trace for 0.0 pA
h.celsius set to 31.0
Generating trace for 500.0 pA
h.celsius set to 31.0
Generating trace for 1000.0 pA
h.celsius set to 31.0
Generating trace for 1500.0 pA
h.celsius set to 31.0
Generating trace for 2000.0 pA
h.celsius set to 31.0
h.celsius set to 31.0
Saving target voltage data to: ./output/Burster_orig_2-slice_42-seed/target/target_v.json
done
/home/mwsrgf/act-venv/lib64/python3.9/site-packages/torch/__init__.py:614: UserWarning: torch.set_default_tensor_type() is deprecated as of PyTorch 2.1, please use torch.set_default_dtype() and torch.set_default_device() as alternatives. (Triggered internally at ../torch/csrc/tensor/python_tensor.cpp:451.)
  _C._set_default_tensor_type(t)
numprocs=1
WARNING:root:No edges have been made for this network, skipping saving of edges file.
/home/mwsrgf/proj/ACT/simulation/output/Burster_orig_2-slice_42-seed/sim_data/components/mechanisms
Mod files: "./capool.mod" "./cas.mod" "./cat.mod" "./inhsyn.mod" "./ka.mod" "./kca.mod" "./kdr.mod" "./leak.mod" "./na.mod"

 -> [32mCompiling[0m mod_func.cpp
 -> [32mNMODL[0m ../capool.mod
 -> [32mNMODL[0m ../cas.mod
 -> [32mNMODL[0m ../cat.mod
Translating capool.mod into /home/mwsrgf/proj/ACT/simulation/output/Burster_orig_2-slice_42-seed/sim_data/components/mechanisms/x86_64/capool.c
Translating cas.mod into /home/mwsrgf/proj/ACT/simulation/output/Burster_orig_2-slice_42-seed/sim_data/components/mechanisms/x86_64/cas.c
 -> [32mNMODL[0m ../inhsyn.mod
Translating cat.mod into /home/mwsrgf/proj/ACT/simulation/output/Burster_orig_2-slice_42-seed/sim_data/components/mechanisms/x86_64/cat.c
Thread Safe
Thread Safe
Thread Safe
 -> [32mNMODL[0m ../ka.mod
Translating inhsyn.mod into /home/mwsrgf/proj/ACT/simulation/output/Burster_orig_2-slice_42-seed/sim_data/components/mechanisms/x86_64/inhsyn.c
 -> [32mNMODL[0m ../kca.mod
 -> [32mNMODL[0m ../kdr.mod
Thread Safe
 -> [32mNMODL[0m ../leak.mod
Translating ka.mod into /home/mwsrgf/proj/ACT/simulation/output/Burster_orig_2-slice_42-seed/sim_data/components/mechanisms/x86_64/ka.c
Translating kca.mod into /home/mwsrgf/proj/ACT/simulation/output/Burster_orig_2-slice_42-seed/sim_data/components/mechanisms/x86_64/kca.c
Translating kdr.mod into /home/mwsrgf/proj/ACT/simulation/output/Burster_orig_2-slice_42-seed/sim_data/components/mechanisms/x86_64/kdr.c
Thread Safe
Thread Safe
Thread Safe
 -> [32mNMODL[0m ../na.mod
Translating leak.mod into /home/mwsrgf/proj/ACT/simulation/output/Burster_orig_2-slice_42-seed/sim_data/components/mechanisms/x86_64/leak.c
 -> [32mCompiling[0m capool.c
Thread Safe
 -> [32mCompiling[0m cas.c
 -> [32mCompiling[0m cat.c
Translating na.mod into /home/mwsrgf/proj/ACT/simulation/output/Burster_orig_2-slice_42-seed/sim_data/components/mechanisms/x86_64/na.c
Thread Safe
 -> [32mCompiling[0m inhsyn.c
 -> [32mCompiling[0m ka.c
 -> [32mCompiling[0m kca.c
 -> [32mCompiling[0m kdr.c
 -> [32mCompiling[0m leak.c
 -> [32mCompiling[0m na.c
 => [32mLINKING[0m shared library ./libnrnmech.so
Successfully created x86_64/special
/home/mwsrgf/proj/ACT/simulation
Building Network
Setting celsius to default value of 31.0
Number of cells to be generated: 320  (5 amps * 64 cells per amp (parameters ^ splits))
Submitted batch job 6442
/home/mwsrgf/act-venv/lib64/python3.9/site-packages/torch/__init__.py:614: UserWarning: torch.set_default_tensor_type() is deprecated as of PyTorch 2.1, please use torch.set_default_dtype() and torch.set_default_device() as alternatives. (Triggered internally at ../torch/csrc/tensor/python_tensor.cpp:451.)
  _C._set_default_tensor_type(t)
numprocs=1
loading large file (./output/Burster_orig_2-slice_42-seed/sim_data/output/v_report.h5)
decimate_factor set - reducing dataset by 10x
ARIMA order set to (4, 0, 4)
processing cell 115/320
processing cell 116/320
processing cell 161/320
processing cell 162/320
processing cell 75/320
processing cell 76/320
processing cell 171/320
processing cell 172/320
processing cell 121/320
processing cell 122/320
processing cell 187/320
processing cell 188/320
processing cell 109/320
processing cell 110/320
processing cell 245/320
processing cell 246/320
processing cell 101/320
processing cell 102/320
processing cell 137/320
processing cell 138/320
processing cell 233/320
processing cell 234/320
processing cell 113/320
processing cell 114/320
processing cell 165/320
processing cell 166/320
processing cell 119/320
processing cell 120/320
processing cell 189/320
processing cell 190/320
processing cell 127/320
processing cell 128/320
processing cell 173/320
processing cell 174/320
processing cell 91/320
processing cell 92/320
processing cell 159/320
processing cell 160/320
processing cell 43/320
processing cell 44/320
processing cell 207/320
processing cell 208/320
processing cell 69/320
processing cell 70/320
processing cell 169/320
processing cell 170/320
processing cell 47/320
processing cell 48/320
processing cell 197/320
processing cell 198/320
processing cell 97/320
processing cell 98/320
processing cell 199/320
processing cell 200/320
processing cell 85/320
processing cell 86/320
processing cell 183/320
processing cell 184/320
processing cell 125/320
processing cell 126/320
processing cell 191/320
processing cell 192/320
processing cell 21/320
processing cell 22/320
processing cell 215/320
processing cell 216/320
processing cell 87/320
processing cell 88/320
processing cell 129/320
processing cell 130/320
processing cell 219/320
processing cell 220/320
processing cell 279/320
processing cell 280/320
processing cell 5/320
processing cell 6/320
processing cell 193/320
processing cell 194/320
processing cell 11/320
processing cell 12/320
processing cell 195/320
processing cell 196/320
processing cell 37/320
processing cell 38/320
processing cell 221/320
processing cell 222/320
processing cell 29/320
processing cell 30/320
processing cell 237/320
processing cell 238/320
processing cell 63/320
processing cell 64/320
processing cell 227/320
processing cell 228/320
processing cell 19/320
processing cell 20/320
processing cell 225/320
processing cell 226/320
processing cell 61/320
processing cell 62/320
processing cell 149/320
processing cell 150/320
processing cell 273/320
processing cell 274/320
processing cell 89/320
processing cell 90/320
processing cell 209/320
processing cell 210/320
processing cell 77/320
processing cell 78/320
processing cell 231/320
processing cell 232/320
processing cell 123/320
processing cell 124/320
processing cell 247/320
processing cell 248/320
processing cell 27/320
processing cell 28/320
processing cell 217/320
processing cell 218/320
processing cell 79/320
processing cell 80/320
processing cell 229/320
processing cell 230/320
processing cell 33/320
processing cell 34/320
processing cell 203/320
processing cell 204/320
processing cell 271/320
processing cell 272/320
processing cell 73/320
processing cell 74/320
processing cell 153/320
processing cell 154/320
processing cell 243/320
processing cell 244/320
processing cell 303/320
processing cell 304/320
processing cell 81/320
processing cell 82/320
processing cell 201/320
processing cell 202/320
processing cell 287/320
processing cell 288/320
processing cell 55/320
processing cell 56/320
processing cell 223/320
processing cell 224/320
processing cell 67/320
problem processing cell 66: LU decomposition error. | setting all values to 0.0
processing cell 68/320
processing cell 259/320
processing cell 260/320
processing cell 31/320
processing cell 32/320
processing cell 143/320
processing cell 144/320
processing cell 265/320
processing cell 266/320
processing cell 23/320
processing cell 24/320
processing cell 139/320
processing cell 140/320
processing cell 235/320
processing cell 236/320
processing cell 293/320
processing cell 294/320
processing cell 17/320
processing cell 18/320
processing cell 135/320
processing cell 136/320
processing cell 239/320
processing cell 240/320
processing cell 315/320
processing cell 316/320
processing cell 41/320
processing cell 42/320
processing cell 177/320
processing cell 178/320
processing cell 283/320
processing cell 284/320
processing cell 83/320
processing cell 84/320
processing cell 145/320
processing cell 146/320
processing cell 277/320
processing cell 278/320
processing cell 3/320
processing cell 4/320
processing cell 249/320
processing cell 250/320
processing cell 65/320
processing cell 66/320
processing cell 181/320
processing cell 182/320
processing cell 297/320
processing cell 298/320
processing cell 107/320
processing cell 108/320
processing cell 255/320
processing cell 256/320
processing cell 35/320
processing cell 36/320
processing cell 141/320
processing cell 142/320
processing cell 261/320
processing cell 262/320
processing cell 53/320
processing cell 54/320
processing cell 147/320
processing cell 148/320
processing cell 257/320
processing cell 258/320
processing cell 7/320
processing cell 8/320
processing cell 253/320
processing cell 254/320
processing cell 45/320
processing cell 46/320
processing cell 269/320
processing cell 270/320
processing cell 15/320
processing cell 16/320
processing cell 185/320
processing cell 186/320
processing cell 301/320
processing cell 302/320
processing cell 99/320
processing cell 100/320
processing cell 151/320
processing cell 152/320
processing cell 309/320
processing cell 310/320
processing cell 9/320
processing cell 10/320
processing cell 275/320
processing cell 276/320
processing cell 71/320
processing cell 72/320
processing cell 267/320
processing cell 268/320
processing cell 13/320
processing cell 14/320
processing cell 211/320
processing cell 212/320
processing cell 317/320
processing cell 318/320
processing cell 95/320
processing cell 96/320
processing cell 179/320
processing cell 180/320
processing cell 289/320
processing cell 290/320
processing cell 39/320
processing cell 40/320
processing cell 133/320
processing cell 134/320
processing cell 241/320
processing cell 242/320
processing cell 307/320
processing cell 308/320
processing cell 111/320
processing cell 112/320
processing cell 163/320
processing cell 164/320
processing cell 285/320
processing cell 286/320
processing cell 103/320
processing cell 104/320
processing cell 175/320
processing cell 176/320
processing cell 291/320
processing cell 292/320
processing cell 51/320
processing cell 52/320
processing cell 157/320
processing cell 158/320
processing cell 281/320
processing cell 282/320
processing cell 1/320
processing cell 2/320
processing cell 295/320
processing cell 296/320
processing cell 59/320
processing cell 60/320
processing cell 263/320
processing cell 264/320
processing cell 105/320
processing cell 106/320
processing cell 205/320
processing cell 206/320
processing cell 305/320
processing cell 306/320
processing cell 117/320
processing cell 118/320
processing cell 167/320
processing cell 168/320
processing cell 299/320
processing cell 300/320
processing cell 93/320
processing cell 94/320
processing cell 213/320
processing cell 214/320
processing cell 313/320
processing cell 314/320
processing cell 57/320
processing cell 58/320
processing cell 155/320
processing cell 156/320
processing cell 319/320
processing cell 320/320
processing cell 25/320
processing cell 26/320
processing cell 131/320
processing cell 132/320
processing cell 311/320
processing cell 312/320
/home/mwsrgf/act-venv/lib64/python3.9/site-packages/torch/__init__.py:614: UserWarning: torch.set_default_tensor_type() is deprecated as of PyTorch 2.1, please use torch.set_default_dtype() and torch.set_default_device() as alternatives. (Triggered internally at ../torch/csrc/tensor/python_tensor.cpp:451.)
  _C._set_default_tensor_type(t)
Warning: no DISPLAY environment variable.
--No graphics will be displayed.
/home/mwsrgf/proj/ACT/simulation
Mod files: "temp_modfiles/temp_modfiles/capool.mod" "temp_modfiles/temp_modfiles/cas.mod" "temp_modfiles/temp_modfiles/cat.mod" "temp_modfiles/temp_modfiles/inhsyn.mod" "temp_modfiles/temp_modfiles/ka.mod" "temp_modfiles/temp_modfiles/kca.mod" "temp_modfiles/temp_modfiles/kdr.mod" "temp_modfiles/temp_modfiles/leak.mod" "temp_modfiles/temp_modfiles/na.mod"

Creating 'x86_64' directory for .o files.

 -> [32mCompiling[0m mod_func.cpp
 -> [32mNMODL[0m ../temp_modfiles/capool.mod
 -> [32mNMODL[0m ../temp_modfiles/cas.mod
 -> [32mNMODL[0m ../temp_modfiles/cat.mod
Translating capool.mod into /home/mwsrgf/proj/ACT/simulation/x86_64/capool.c
 -> [32mNMODL[0m ../temp_modfiles/inhsyn.mod
Translating cas.mod into /home/mwsrgf/proj/ACT/simulation/x86_64/cas.c
Translating cat.mod into /home/mwsrgf/proj/ACT/simulation/x86_64/cat.c
Thread Safe
Thread Safe
Thread Safe
 -> [32mNMODL[0m ../temp_modfiles/ka.mod
Translating inhsyn.mod into /home/mwsrgf/proj/ACT/simulation/x86_64/inhsyn.c
 -> [32mNMODL[0m ../temp_modfiles/kca.mod
Thread Safe
 -> [32mNMODL[0m ../temp_modfiles/kdr.mod
Translating ka.mod into /home/mwsrgf/proj/ACT/simulation/x86_64/ka.c
 -> [32mNMODL[0m ../temp_modfiles/leak.mod
Thread Safe
Translating kca.mod into /home/mwsrgf/proj/ACT/simulation/x86_64/kca.c
Translating kdr.mod into /home/mwsrgf/proj/ACT/simulation/x86_64/kdr.c
Thread Safe
 -> [32mNMODL[0m ../temp_modfiles/na.mod
Thread Safe
Translating leak.mod into /home/mwsrgf/proj/ACT/simulation/x86_64/leak.c
Thread Safe
 -> [32mCompiling[0m capool.c
 -> [32mCompiling[0m cas.c
 -> [32mCompiling[0m cat.c
Translating na.mod into /home/mwsrgf/proj/ACT/simulation/x86_64/na.c
Thread Safe
 -> [32mCompiling[0m inhsyn.c
 -> [32mCompiling[0m ka.c
 -> [32mCompiling[0m kca.c
 -> [32mCompiling[0m kdr.c
 -> [32mCompiling[0m leak.c
 -> [32mCompiling[0m na.c
 => [32mLINKING[0m shared library ./libnrnmech.so
 => [32mLINKING[0m executable ./special LDFLAGS are:    -pthread
Successfully created x86_64/special
/home/mwsrgf/act-venv/lib64/python3.9/site-packages/torch/utils/_device.py:77: UserWarning: The use of `x.T` on tensors of dimension other than 2 to reverse their shape is deprecated and it will throw an error in a future release. Consider `x.mT` to transpose batches of matrices or `x.permute(*torch.arange(x.ndim - 1, -1, -1))` to reverse the dimensions of a tensor. (Triggered internally at ../aten/src/ATen/native/TensorShape.cpp:3614.)
  return func(*args, **kwargs)
/home/mwsrgf/proj/ACT/simulation/../act/utils.py:936: RuntimeWarning: Mean of empty slice.
  amplitude = x[peaks].mean()
/home/mwsrgf/act-venv/lib64/python3.9/site-packages/numpy/core/_methods.py:129: RuntimeWarning: invalid value encountered in divide
  ret = ret.dtype.type(ret / rcount)

(2024-02-18 22:47:26.890992)-[START]
(2024-02-18 22:47:26.891026)-[INFO]: Number of amplitudes: 5
Loading ./output/Burster_orig_2-slice_42-seed/target/target_v.json for target traces
decimate_factor set - reducing generated target voltage by 10x
(2024-02-18 22:47:27.192908)-[INFO]: Target voltage shape: torch.Size([5, 1000])
loading hoc file ../data/BursterS3/orig/template.hoc
Setting eleak = -49
Setting Burster[0].soma[0].gbar_leak = 0.00003538
Setting Burster[0].soma[0].cm = 1.52762500
Extracting first 10 spikes for summary features
loading large file (./output/Burster_orig_2-slice_42-seed/sim_data/output/v_report.h5)
decimate_factor set - reducing dataset by 10x
224/320 spiking traces extracted.
Dropping 188 traces, mean value >-50 between 550:750ms
Overriding model class to RandomForest
resampling of traces not needed, same shape as target
fitting random forest
Done fitting random forest
Feature importance
Avg Max Spike Height : 27.66
Avg Min Spike Height : 17.38
Spike 2 time : 11.12
Interspike Interval : 10.69
Spike 1 time : 7.98
Num Spikes : 7.59
Spike 4 time : 5.93
Spike 3 time : 4.52
Spike 8 time : 1.29
Spike 9 time : 1.24
Spike 5 time : 1.22
Spike 10 time : 1.19
Spike 6 time : 1.11
Spike 7 time : 1.1
Amps supplied: [0.0, 0.5, 1.0, 1.5, 2.0]
Amps predicted: [1.2613682746887207, 1.2623332738876343, 1.2595967054367065, 1.2493733167648315, 1.2554583549499512]
Amps error: [-1.2613682746887207, -0.7623332738876343, -0.25959670543670654, 0.25062668323516846, 0.7445416450500488]
Amps error sum: -1.2881299257278442
writing training run stats for repeat 1
done
1 predictions: [[0.18810045719146729, 0.1242673322558403, 0.008672761730849743, 0.0033556190319359303, 0.10391533374786377, 0.02894076146185398], [0.17917466163635254, 0.1292133331298828, 0.008972762152552605, 0.003495618933811784, 0.0945313349366188, 0.030052760615944862], [0.17763373255729675, 0.1311986744403839, 0.009088762104511261, 0.0035256189294159412, 0.09398733079433441, 0.030204761773347855], [0.1702098548412323, 0.13502933084964752, 0.009320762008428574, 0.003619618946686387, 0.08555533736944199, 0.03111676126718521], [0.17104965448379517, 0.13550333678722382, 0.00929276179522276, 0.0035996190272271633, 0.08739133179187775, 0.030964761972427368]]
Calculating error...
h.celsius set to 31.0
h.celsius set to 31.0
h.celsius set to 31.0
h.celsius set to 31.0
h.celsius set to 31.0
h.celsius set to 31.0
h.celsius set to 31.0
h.celsius set to 31.0
h.celsius set to 31.0
h.celsius set to 31.0
h.celsius set to 31.0
h.celsius set to 31.0
h.celsius set to 31.0
h.celsius set to 31.0
h.celsius set to 31.0
h.celsius set to 31.0
h.celsius set to 31.0
h.celsius set to 31.0
h.celsius set to 31.0
h.celsius set to 31.0
h.celsius set to 31.0
h.celsius set to 31.0
h.celsius set to 31.0
h.celsius set to 31.0
h.celsius set to 31.0
decimate_factor set - reducing sims voltage by 10x
Repeat 1 mean: [0.17723367214202881, 0.13104240149259566, 0.009069561958312988, 0.0035192189738154412, 0.09307613372802734, 0.030255961418151855] | variance: [4.1918117947190576e-05, 1.7013404974699498e-05, 5.602178017975745e-08, 8.78143708878728e-09, 4.1863099728343126e-05, 6.034075001057348e-07]
All predictions: [[0.18810045719146729, 0.1242673322558403, 0.008672761730849743, 0.0033556190319359303, 0.10391533374786377, 0.02894076146185398], [0.17917466163635254, 0.1292133331298828, 0.008972762152552605, 0.003495618933811784, 0.0945313349366188, 0.030052760615944862], [0.17763373255729675, 0.1311986744403839, 0.009088762104511261, 0.0035256189294159412, 0.09398733079433441, 0.030204761773347855], [0.1702098548412323, 0.13502933084964752, 0.009320762008428574, 0.003619618946686387, 0.08555533736944199, 0.03111676126718521], [0.17104965448379517, 0.13550333678722382, 0.00929276179522276, 0.0035996190272271633, 0.08739133179187775, 0.030964761972427368]]
Err per prediction: [148.31556701660156, 153.6968231201172, 154.41632080078125, 160.08599853515625, 158.44515991210938]
FI Err per prediction: [3.2, 2.4, 3.2, 2.8, 2.8]
Amplitude/Frequency err per prediction [264.0, 234.0, 220.0, 194.0, 208.0]
Best prediction: [0.17917466163635254, 0.1292133331298828, 0.008972762152552605, 0.003495618933811784, 0.0945313349366188, 0.030052760615944862]
loading hoc file ../data/BursterS3/orig/template.hoc
Setting eleak = -49
Setting Burster[1].soma[0].gbar_leak = 0.00003538
Setting Burster[1].soma[0].cm = 1.52762500
h.celsius set to 31.0
decimate_factor set - reducing sims voltage by 10x
h.celsius set to 31.0
decimate_factor set - reducing sims voltage by 10x
h.celsius set to 31.0
decimate_factor set - reducing sims voltage by 10x
h.celsius set to 31.0
decimate_factor set - reducing sims voltage by 10x
h.celsius set to 31.0
decimate_factor set - reducing sims voltage by 10x
h.celsius set to 31.0
loading hoc file ../data/BursterS3/orig/template.hoc
Setting eleak = -49
Setting Burster[2].soma[0].gbar_leak = 0.00003538
Setting Burster[2].soma[0].cm = 1.52762500
h.celsius set to 31.0
decimate_factor set - reducing sims voltage by 10x
loading hoc file ../data/BursterS3/orig/template.hoc
Setting eleak = -49
Setting Burster[3].soma[0].gbar_leak = 0.00003538
Setting Burster[3].soma[0].cm = 1.52762500
h.celsius set to 31.0
decimate_factor set - reducing sims voltage by 10x
loading hoc file ../data/BursterS3/orig/template.hoc
Setting eleak = -49
Setting Burster[4].soma[0].gbar_leak = 0.00003538
Setting Burster[4].soma[0].cm = 1.52762500
h.celsius set to 31.0
decimate_factor set - reducing sims voltage by 10x
loading hoc file ../data/BursterS3/orig/template.hoc
Setting eleak = -49
Setting Burster[5].soma[0].gbar_leak = 0.00003538
Setting Burster[5].soma[0].cm = 1.52762500
h.celsius set to 31.0
decimate_factor set - reducing sims voltage by 10x
loading hoc file ../data/BursterS3/orig/template.hoc
Setting eleak = -49
Setting Burster[6].soma[0].gbar_leak = 0.00003538
Setting Burster[6].soma[0].cm = 1.52762500
h.celsius set to 31.0
decimate_factor set - reducing sims voltage by 10x
/home/mwsrgf/proj/ACT/simulation/analyze_res.py:6: DeprecationWarning: 
Pyarrow will become a required dependency of pandas in the next major release of pandas (pandas 3.0),
(to allow more performant data types, such as the Arrow string type, and better interoperability with other libraries)
but was not found to be installed on your system.
If this would cause problems for you,
please provide us feedback at https://github.com/pandas-dev/pandas/issues/54466
        
  import pandas as pd
/home/mwsrgf/act-venv/lib64/python3.9/site-packages/torch/__init__.py:614: UserWarning: torch.set_default_tensor_type() is deprecated as of PyTorch 2.1, please use torch.set_default_dtype() and torch.set_default_device() as alternatives. (Triggered internally at ../torch/csrc/tensor/python_tensor.cpp:451.)
  _C._set_default_tensor_type(t)
Warning: no DISPLAY environment variable.
--No graphics will be displayed.
./output/Burster_orig_2-slice_42-seed/
Med MSE: 125.1478 (32.1713)
Med Corr: 0.4629 (0.2671)

Predicted values:
    gbar_na  gbar_kdr  gbar_cas  gbar_cat   gbar_ka  gbar_kca
0  0.179175  0.129213  0.008973  0.003496  0.094531  0.030053
Target values:
   gbar_na  gbar_kdr  gbar_cas  gbar_cat  gbar_ka  gbar_kca
0     0.13       0.1      0.01     0.005     0.17      0.02
Error:
    gbar_na  gbar_kdr  gbar_cas  gbar_cat   gbar_ka  gbar_kca
0  0.049175  0.029213 -0.001027 -0.001504 -0.075469  0.010053

Pred MAE: 0.0277

Model ACT-Original Passive properties:
{
  "leak_conductance_variable": "gbar_leak",
  "leak_reversal_variable": "eleak",
  "r_in": 50.117835998535156,
  "tau": 26.1,
  "v_rest": -52.25846481323242
}
----------


User Trace Passive properties:
{
  "v_rest": -49,
  "r_in": 90,
  "tau": 43.175,
  "leak_conductance_variable": "gbar_leak",
  "leak_reversal_variable": "eleak"
}
----------


Passive properties errror
v_rest: -3.26
r_in: -39.88
tau: -17.07
----------

target spikes: tensor([ 5.,  7.,  8., 10., 11.])
simulated spikes: tensor([ 8.,  7.,  7.,  9., 10.])
diff: tensor([ 3.,  0., -1., -1., -1.])
Simulated and target FI curve error [SUM((simulated-target)/target)/n]: 1.2
/home/mwsrgf/act-venv/lib64/python3.9/site-packages/torch/__init__.py:614: UserWarning: torch.set_default_tensor_type() is deprecated as of PyTorch 2.1, please use torch.set_default_dtype() and torch.set_default_device() as alternatives. (Triggered internally at ../torch/csrc/tensor/python_tensor.cpp:451.)
  _C._set_default_tensor_type(t)
Warning: no DISPLAY environment variable.
--No graphics will be displayed.
./output/Burster_orig_2-slice_42-seed/model_data/Burster_orig_2-slice_42-seed_FI.png
Model ACT-Original (err: 2.4): [   0.  500. 1000. 1500. 2000.] pA : [16. 14. 14. 18. 20.] Hz
User Trace: [   0.  500. 1000. 1500. 2000.] pA : [10. 14. 16. 20. 22.] Hz
Warning: no DISPLAY environment variable.
--No graphics will be displayed.
/home/mwsrgf/act-venv/lib64/python3.9/site-packages/torch/__init__.py:614: UserWarning: torch.set_default_tensor_type() is deprecated as of PyTorch 2.1, please use torch.set_default_dtype() and torch.set_default_device() as alternatives. (Triggered internally at ../torch/csrc/tensor/python_tensor.cpp:451.)
  _C._set_default_tensor_type(t)
/home/mwsrgf/proj/ACT/simulation
Mod files: "temp_modfiles/temp_modfiles/capool.mod" "temp_modfiles/temp_modfiles/cas.mod" "temp_modfiles/temp_modfiles/cat.mod" "temp_modfiles/temp_modfiles/inhsyn.mod" "temp_modfiles/temp_modfiles/ka.mod" "temp_modfiles/temp_modfiles/kca.mod" "temp_modfiles/temp_modfiles/kdr.mod" "temp_modfiles/temp_modfiles/leak.mod" "temp_modfiles/temp_modfiles/na.mod"

Creating 'x86_64' directory for .o files.

 -> [32mCompiling[0m mod_func.cpp
 -> [32mNMODL[0m ../temp_modfiles/capool.mod
 -> [32mNMODL[0m ../temp_modfiles/cas.mod
 -> [32mNMODL[0m ../temp_modfiles/cat.mod
 -> [32mNMODL[0m ../temp_modfiles/inhsyn.mod
Translating cas.mod into /home/mwsrgf/proj/ACT/simulation/x86_64/cas.c
Translating capool.mod into /home/mwsrgf/proj/ACT/simulation/x86_64/capool.c
Translating cat.mod into /home/mwsrgf/proj/ACT/simulation/x86_64/cat.c
Thread Safe
Thread Safe
Thread Safe
 -> [32mNMODL[0m ../temp_modfiles/ka.mod
Translating inhsyn.mod into /home/mwsrgf/proj/ACT/simulation/x86_64/inhsyn.c
 -> [32mNMODL[0m ../temp_modfiles/kdr.mod
 -> [32mNMODL[0m ../temp_modfiles/kca.mod
Thread Safe
Translating ka.mod into /home/mwsrgf/proj/ACT/simulation/x86_64/ka.c
 -> [32mNMODL[0m ../temp_modfiles/leak.mod
Thread Safe
Translating kdr.mod into /home/mwsrgf/proj/ACT/simulation/x86_64/kdr.c
Translating kca.mod into /home/mwsrgf/proj/ACT/simulation/x86_64/kca.c
Thread Safe
Thread Safe
 -> [32mNMODL[0m ../temp_modfiles/na.mod
Translating leak.mod into /home/mwsrgf/proj/ACT/simulation/x86_64/leak.c
Thread Safe
 -> [32mCompiling[0m capool.c
 -> [32mCompiling[0m cas.c
Translating na.mod into /home/mwsrgf/proj/ACT/simulation/x86_64/na.c
 -> [32mCompiling[0m cat.c
Thread Safe
 -> [32mCompiling[0m inhsyn.c
 -> [32mCompiling[0m ka.c
 -> [32mCompiling[0m kca.c
 -> [32mCompiling[0m kdr.c
 -> [32mCompiling[0m leak.c
 -> [32mCompiling[0m na.c
 => [32mLINKING[0m shared library ./libnrnmech.so
 => [32mLINKING[0m executable ./special LDFLAGS are:    -pthread
Successfully created x86_64/special
Loading ./output/Burster_orig_2-slice_42-seed/target/target_v.json for target traces
loading hoc file ../data/BursterS3/orig/template.hoc
Setting eleak = -49
Setting Burster[0].soma[0].gbar_leak = 0.00003538
Setting Burster[0].soma[0].cm = 1.52762500
Generating trace for 0.0 pA
Setting params: {}
h.celsius set to 31.0
Generating trace for 500.0 pA
Setting params: {}
h.celsius set to 31.0
Generating trace for 1000.0 pA
Setting params: {}
h.celsius set to 31.0
Generating trace for 1500.0 pA
Setting params: {}
h.celsius set to 31.0
Generating trace for 2000.0 pA
Setting params: {}
h.celsius set to 31.0
saving fi
Model ACT-Original (err: 0.0): [   0.  500. 1000. 1500. 2000.] pA : [10. 14. 16. 20. 22.] Hz
User Trace: [   0.  500. 1000. 1500. 2000.] pA : [10. 14. 16. 20. 22.] Hz
Learned Params
{}

Target Params
{'gbar_na': 0.13, 'gbar_kdr': 0.1, 'gbar_cas': 0.01, 'gbar_cat': 0.005, 'gbar_ka': 0.17, 'gbar_kca': 0.02}

Difference
{}

Difference (percent)
{}

done
Start: Sun Feb 18 22:45:40 CST 2024 
End:   Sun Feb 18 22:48:05 CST 2024
Done running model at Sun Feb 18 22:48:05 CST 2024
